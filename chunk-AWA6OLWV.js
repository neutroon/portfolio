import{e as B}from"./chunk-2GQNQAVW.js";import{H as D,I as R}from"./chunk-YW4U6H32.js";import{Eb as k,Ia as w,Lb as y,Oa as v,Sa as s,Ta as m,db as p,ja as h,jb as _,lb as x,mb as C,nb as c,oa as u,ob as l,pa as b,pb as g,tb as I,vb as S,wb as V}from"./chunk-FBE5BHJ4.js";function E(n,i){if(n&1){let o=I();c(0,"div",2)(1,"div",3)(2,"figure",4),g(3,"img",5,6),l(),g(5,"figcaption",7),c(6,"button",8),S("click",function(){let a=u(o).$implicit,r=k(4),f=V();return b(f.changeView(a,r))}),l()()()}if(n&2){let o=i.$implicit;s(3),p("src",o.mobile.gif,w),s(3),p("loading",o.ischangeViewLoading)("label","changeVeiw")}}var j=(()=>{let i=class i{constructor(e,t){this._GetDataService=e,this._Renderer2=t,this.projects=[],this.imageCache=new Map}ngOnInit(){this._GetDataService.getProjects().subscribe({next:e=>{this.projects=e,this.preloadImages()}})}preloadImages(){this.projects.forEach(e=>{e.mobile?.gif&&this.preloadImage(e.mobile.gif),e.desktop?.gif&&this.preloadImage(e.desktop.gif)})}preloadImage(e){if(!this.imageCache.has(e)){let t=new Image;t.src=e,this.imageCache.set(e,t)}}changeView(e,t){let r=t.getAttribute("src")===e.mobile?.gif?e.desktop?.gif:e.mobile?.gif;if(!r)return;if(this.imageCache.get(r)?.complete)this._Renderer2.setAttribute(t,"src",r),e.ischangeViewLoading=!1;else{e.ischangeViewLoading=!0;let d=new Image;d.onload=()=>{this._Renderer2.setAttribute(t,"src",r),e.ischangeViewLoading=!1,this.imageCache.set(r,d)},d.src=r}}};i.\u0275fac=function(t){return new(t||i)(m(B),m(v))},i.\u0275cmp=h({type:i,selectors:[["app-projects"]],standalone:!0,features:[y],decls:4,vars:0,consts:[[1,"pl-4","pr-4","pt-3","mb-4"],[1,"grid"],[1,"col-6","md:col-4"],[1,"card","mt-3","relative"],[1,"w-full","h-full"],["alt","work",1,"w-full","h-full","border-round-3xl",3,"src"],["projectImg",""],[1,"absolute","top-0","left-0","bottom-0","right-0","flex","align-items-end","pb-3","pl-2","text-xs","md:text-sm","text-white"],["pButton","","pRipple","",1,"p-button-danger","shadow-none","absolute","top-100","left-50","text-xs","white-space-nowrap","translate-middle","border-round-2xl",3,"loading","label","click"],["class","col-6 md:col-4"]],template:function(t,a){t&1&&(c(0,"section",0)(1,"div",1),x(2,E,7,3,"div",9,_),l()()),t&2&&(s(2),C(a.projects))},dependencies:[R,D]});let n=i;return n})();export{j as ProjectsComponent};
